<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parkhaus-Auslastung Chart</title>
    <link rel="stylesheet" href="/CSS/Style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <!-- Header mit Menü -->
    <header class="menu">
        <div class="header-content">
            <img src="/Logo/Peakendsvg.svg" alt="Logo von Peakend">
            <h2>Zürich</h2>
        </div>
    </header>

    <!-- Chart Container -->
    <section id="section2" class="section">
        <h2>Momentane Auslastung</h2>
        <p>Hier findest du die aktuelle Auslastung der Parkhäuser in Zürich.</p>

        <div class="chart-container">
          <button id="btnDay">Tag</button>
          <button id="btnWeek">72h</button>
          <canvas id="parkhausAuslastungChart"></canvas>
        </div>
    </section>

    <!-- Nachrichtenteil -->
    <div class="nachrichten">
        <div class="contentlinks">
            <p>Einen Parkplatz in Zürich zu finden ist schwer. Deshalb zeigt dir Peakend die Peaks in den Parkhäusern, damit du schon vorher anreisen kannst, um einen Platz zu finden.</p>
        </div>
        <div class="contentrechts">
            <p>Peakend zeigt dir die Auslastung der Parkhäuser in Echtzeit.</p>
        </div>
    </div>

    <!-- Script -->
    <script src="parkhaus.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Sicherstellen, dass der DOM vollständig geladen ist, bevor die Event-Listener hinzugefügt werden.
            const btnDay = document.getElementById('btnDay');
            const btnWeek = document.getElementById('btnWeek');

            if (btnDay && btnWeek) {
                btnDay.addEventListener('click', async function () {
                    await loadData('day');
                    updateChart('day');
                });

                btnWeek.addEventListener('click', async function () {
                    await loadData('72h');
                    updateChart('72h');
                });
            } else {
                console.error("Buttons nicht gefunden im DOM.");
            }
        });
    </script>
</body>
</html>
